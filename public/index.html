<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lamina - Composite Design Tool</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>Lamina</h1>
        <p>Composite Laminate Design & Analysis</p>

        <div class="panel">
            <h2>Material Properties</h2>
            <div class="input-grid">
                <label title="Longitudinal Young's Modulus">E1 (Pa): <input type="number" id="E1" value="140e9"></label>
                <label title="Transverse Young's Modulus">E2 (Pa): <input type="number" id="E2" value="10e9"></label>
                <label title="In-plane Shear Modulus">G12 (Pa): <input type="number" id="G12" value="5e9"></label>
                <label title="Major Poisson's Ratio">v12: <input type="number" id="v12" value="0.3"></label>
                <label title="Longitudinal Tensile Strength">Xt (Pa): <input type="number" id="Xt" value="1500e6"></label>
                <label title="Longitudinal Compressive Strength">Xc (Pa): <input type="number" id="Xc" value="1200e6"></label>
                <label title="Transverse Tensile Strength">Yt (Pa): <input type="number" id="Yt" value="50e6"></label>
                <label title="Transverse Compressive Strength">Yc (Pa): <input type="number" id="Yc" value="250e6"></label>
                <label title="In-plane Shear Strength">S (Pa): <input type="number" id="S" value="70e6"></label>
            </div>
        </div>

        <div class="panel">
            <h2>Laminate Definition</h2>
            <div class="input-row">
                <label>
                    Stacking Sequence (deg):
                    <input type="text" id="stack" value="0, 45, -45, 90" aria-describedby="stack-helper">
                    <span id="stack-helper" class="helper-text">Format: 0, 45, -45, 90</span>
                </label>
                <label>Symmetry: <input type="checkbox" id="symmetry" checked></label>
                <label>Ply Thickness (m): <input type="number" id="thickness" value="0.000125"></label>
            </div>
            <button id="btn-calculate">Calculate Properties</button>
            <button id="btn-polar">Plot Stiffness Polar</button>
            <button id="btn-envelope">Plot Failure Envelope</button>
        </div>

        <div class="results">
            <div class="panel" id="properties-panel">
                <h3>Engineering Constants</h3>
                <div id="constants-output" class="empty-state">Run calculation to view engineering constants.</div>
                <h3>ABD Matrix</h3>
                <div id="abd-output" class="empty-state">Run calculation to view ABD matrix.</div>
            </div>

            <div class="panel">
                <h3>Stiffness Polar Plot (Ex)</h3>
                <div id="polar-plot" class="empty-state">Plot stiffness to visualize anisotropy.</div>
            </div>

            <div class="panel">
                <h3>Failure Envelope (Tsai-Wu)</h3>
                <div id="envelope-plot" class="empty-state">Plot envelope to visualize failure limits.</div>
            </div>
        </div>
    </div>

    <div id="toast-container"></div>
    <script src="polar_plot.js"></script>
    <script src="failure_envelope.js"></script>
    <script src="ux_enhancements.js"></script>
    <script src="main.js"></script>
</body>
</html>
